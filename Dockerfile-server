FROM node:14

# Установка Git для клонирования
RUN apt-get update && apt-get install -y git

# Установка рабочей директории
WORKDIR /usr/src/server

# Клонирование репозитория
RUN git clone https://github.com/Sashmolod/vizitka.git .

# Установка зависимостей
COPY package*.json ./
RUN npm install

# Копирование серверных файлов
COPY server/ .

EXPOSE 3050

CMD ["node", "server.js"]
